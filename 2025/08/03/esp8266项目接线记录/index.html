<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="TFT   -&gt;  TFT_espi注意：此库需要手动配置h头文件适配 NodeMCU-ESP8266使用TFT_eSPI库驱动IC为ST7735的1.44寸TFT屏幕（TFT_eSPI详解）_esp8266驱动st7735-CSDN博客 st7739GND-GND VCC-3V3 SCL-D5 SDA-D7 RST-D2 DC-D1 CS-D3 BL-3V3 User_Setup.h 12">
<meta property="og:type" content="article">
<meta property="og:title" content="esp8266项目接线记录">
<meta property="og:url" content="http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="TFT   -&gt;  TFT_espi注意：此库需要手动配置h头文件适配 NodeMCU-ESP8266使用TFT_eSPI库驱动IC为ST7735的1.44寸TFT屏幕（TFT_eSPI详解）_esp8266驱动st7735-CSDN博客 st7739GND-GND VCC-3V3 SCL-D5 SDA-D7 RST-D2 DC-D1 CS-D3 BL-3V3 User_Setup.h 12">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-08-03T13:40:07.000Z">
<meta property="article:modified_time" content="2025-08-03T13:54:21.654Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>esp8266项目接线记录</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/2025/08/03/%E6%98%8E%E6%97%A5%E6%96%B9%E8%88%9F%E8%A7%A3%E5%8C%85%E7%9A%84%E5%9F%BA%E7%A1%80%E6%B5%81%E7%A8%8B/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&text=esp8266项目接线记录"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&is_video=false&description=esp8266项目接线记录"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=esp8266项目接线记录&body=Check out this article: http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&name=esp8266项目接线记录&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&t=esp8266项目接线记录"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TFT-TFT-espi"><span class="toc-number">1.</span> <span class="toc-text">TFT   -&gt;  TFT_espi</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#st7739"><span class="toc-number">1.1.</span> <span class="toc-text">st7739</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#st7735"><span class="toc-number">1.2.</span> <span class="toc-text">st7735</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#OLED-u8g2"><span class="toc-number">2.</span> <span class="toc-text">OLED -&gt; u8g2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8x8%E7%82%B9%E9%98%B5-LedControl"><span class="toc-number">3.</span> <span class="toc-text">8x8点阵 -&gt; LedControl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SD%E5%8D%A1"><span class="toc-number">4.</span> <span class="toc-text">SD卡</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        esp8266项目接线记录
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">John Doe</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-08-03T13:40:07.000Z" class="dt-published" itemprop="datePublished">2025-08-03</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="TFT-TFT-espi"><a href="#TFT-TFT-espi" class="headerlink" title="TFT   -&gt;  TFT_espi"></a>TFT   -&gt;  TFT_espi</h1><p>注意：此库需要手动配置h头文件适配</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43168623/article/details/117983877">NodeMCU-ESP8266使用TFT_eSPI库驱动IC为ST7735的1.44寸TFT屏幕（TFT_eSPI详解）_esp8266驱动st7735-CSDN博客</a></p>
<h2 id="st7739"><a href="#st7739" class="headerlink" title="st7739"></a>st7739</h2><p>GND-GND</p>
<p>VCC-3V3</p>
<p>SCL-D5</p>
<p>SDA-D7</p>
<p>RST-D2</p>
<p>DC-D1</p>
<p>CS-D3</p>
<p>BL-3V3</p>
<p>User_Setup.h</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//                            USER DEFINED SETTINGS</span></span><br><span class="line"><span class="comment">//   Set driver type, fonts to be loaded, pins used and SPI control method etc.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   See the User_Setup_Select.h file if you wish to be able to define multiple</span></span><br><span class="line"><span class="comment">//   setups and then easily select which setup file is used by the compiler.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   If this file is edited correctly then all the library example sketches should</span></span><br><span class="line"><span class="comment">//   run without the need to make any more changes for a particular hardware setup!</span></span><br><span class="line"><span class="comment">//   Note that some sketches are designed for a particular TFT pixel width/height</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// User defined information reported by &quot;Read_User_Setup&quot; test &amp; diagnostics example</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> USER_SETUP_INFO <span class="string">&quot;User_Setup&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define to disable all #warnings in library (can be put in User_Setup_Select.h)</span></span><br><span class="line"><span class="comment">//#define DISABLE_ALL_LIBRARY_WARNINGS</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 1. Call up the right driver file and any options for it</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define STM32 to invoke optimised processor support (only for STM32)</span></span><br><span class="line"><span class="comment">//#define STM32</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Defining the STM32 board allows the library to optimise the performance</span></span><br><span class="line"><span class="comment">// for UNO compatible &quot;MCUfriend&quot; style shields</span></span><br><span class="line"><span class="comment">//#define NUCLEO_64_TFT</span></span><br><span class="line"><span class="comment">//#define NUCLEO_144_TFT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// STM32 8-bit parallel only:</span></span><br><span class="line"><span class="comment">// If STN32 Port A or B pins 0-7 are used for 8-bit parallel data bus bits 0-7</span></span><br><span class="line"><span class="comment">// then this will improve rendering performance by a factor of ~8x</span></span><br><span class="line"><span class="comment">//#define STM_PORTA_DATA_BUS</span></span><br><span class="line"><span class="comment">//#define STM_PORTB_DATA_BUS</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Tell the library to use parallel mode (otherwise SPI is assumed)</span></span><br><span class="line"><span class="comment">//#define TFT_PARALLEL_8_BIT</span></span><br><span class="line"><span class="comment">//#defined TFT_PARALLEL_16_BIT // **** 16-bit parallel ONLY for RP2040 processor ****</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Display type -  only define if RPi display</span></span><br><span class="line"><span class="comment">//#define RPI_DISPLAY_TYPE // 20MHz maximum SPI</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Only define one driver, the other ones must be commented out</span></span><br><span class="line"><span class="comment">// #define ILI9341_DRIVER       // Generic driver for common displays</span></span><br><span class="line"><span class="comment">//#define ILI9341_2_DRIVER     // Alternative ILI9341 driver, see https://github.com/Bodmer/TFT_eSPI/issues/1172</span></span><br><span class="line"><span class="comment">//#define ST7735_DRIVER      // Define additional parameters below for this display</span></span><br><span class="line"><span class="comment">//#define ILI9163_DRIVER     // Define additional parameters below for this display</span></span><br><span class="line"><span class="comment">//#define S6D02A1_DRIVER</span></span><br><span class="line"><span class="comment">//#define RPI_ILI9486_DRIVER // 20MHz maximum SPI</span></span><br><span class="line"><span class="comment">//#define HX8357D_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9481_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9486_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9488_DRIVER     // WARNING: Do not connect ILI9488 display SDO to MISO if other devices share the SPI bus (TFT SDO does NOT tristate when CS is high)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ST7789_DRIVER      <span class="comment">// Full configuration option, define additional parameters below for this display</span></span></span><br><span class="line"><span class="comment">//#define ST7789_2_DRIVER    // Minimal configuration option, define additional parameters below for this display</span></span><br><span class="line"><span class="comment">//#define R61581_DRIVER</span></span><br><span class="line"><span class="comment">//#define RM68140_DRIVER</span></span><br><span class="line"><span class="comment">//#define ST7796_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1351_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1963_480_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1963_800_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1963_800ALT_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9225_DRIVER</span></span><br><span class="line"><span class="comment">//#define GC9A01_DRIVER</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Some displays support SPI reads via the MISO pin, other displays have a single</span></span><br><span class="line"><span class="comment">// bi-directional SDA pin and the library will try to read this via the MOSI line.</span></span><br><span class="line"><span class="comment">// To use the SDA line for reading data from the TFT uncomment the following line:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define TFT_SDA_READ      // This option is for ESP32 ONLY, tested with ST7789 and GC9A01 display only</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ST7735, ST7789 and ILI9341 ONLY, define the colour order IF the blue and red are swapped on your display</span></span><br><span class="line"><span class="comment">// Try ONE option at a time to find the correct colour order for your display</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  #define TFT_RGB_ORDER TFT_RGB  // Colour order Red-Green-Blue</span></span><br><span class="line"> <span class="meta">#<span class="keyword">define</span> TFT_RGB_ORDER TFT_BGR  <span class="comment">// Colour order Blue-Green-Red</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For M5Stack ESP32 module with integrated ILI9341 display ONLY, remove // in line below</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define M5STACK</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ST7789, ST7735, ILI9163 and GC9A01 ONLY, define the pixel width and height in portrait orientation</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  80</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_WIDTH  240</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  172 // ST7789 172 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  170 // ST7789 170 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  240 // ST7789 240 x 240 and 240 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 160</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_HEIGHT 320</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 240 // ST7789 240 x 240</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 320 // ST7789 240 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 240 // GC9A01 240 x 240</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ST7735 ONLY, define the type of display, originally this was based on the</span></span><br><span class="line"><span class="comment">// colour of the tab on the screen protector film but this is not always true, so try</span></span><br><span class="line"><span class="comment">// out the different options below if the screen does not display graphics correctly,</span></span><br><span class="line"><span class="comment">// e.g. colours wrong, mirror images, or stray pixels at the edges.</span></span><br><span class="line"><span class="comment">// Comment out ALL BUT ONE of these options for a ST7735 display driver, save this</span></span><br><span class="line"><span class="comment">// this User_Setup file, then rebuild and upload the sketch to the board again:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define ST7735_INITB</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB2</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB3</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB128    // For 128 x 128 display</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB160x80 // For 160 x 80 display (BGR, inverted, 26 offset)</span></span><br><span class="line"><span class="comment">// #define ST7735_ROBOTLCD       // For some RobotLCD Arduino shields (128x160, BGR, https://docs.arduino.cc/retired/getting-started-guides/TFT)</span></span><br><span class="line"><span class="comment">// #define ST7735_REDTAB</span></span><br><span class="line"><span class="comment">// #define ST7735_BLACKTAB</span></span><br><span class="line"><span class="comment">// #define ST7735_REDTAB160x80   // For 160 x 80 display with 24 pixel offset</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If colours are inverted (white shows as black) then uncomment one of the next</span></span><br><span class="line"><span class="comment">// 2 lines try both options, one of the options should correct the inversion.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define TFT_INVERSION_ON</span></span><br><span class="line"><span class="comment">// #define TFT_INVERSION_OFF</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 2. Define the pins that are used to interface with the display here</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If a backlight control signal is available then define the TFT_BL pin in Section 2</span></span><br><span class="line"><span class="comment">// below. The backlight will be turned ON when tft.begin() is called, but the library</span></span><br><span class="line"><span class="comment">// needs to know if the LEDs are ON with the pin HIGH or LOW. If the LEDs are to be</span></span><br><span class="line"><span class="comment">// driven with a PWM signal or turned OFF/ON then this must be handled by the user</span></span><br><span class="line"><span class="comment">// sketch. e.g. with digitalWrite(TFT_BL, LOW);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define TFT_BL   32            // LED back-light control pin</span></span><br><span class="line"><span class="comment">// #define TFT_BACKLIGHT_ON HIGH  // Level to turn ON back-light (HIGH or LOW)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// We must use hardware SPI, a minimum of 3 GPIO pins is needed.</span></span><br><span class="line"><span class="comment">// Typical setup for ESP8266 NodeMCU ESP-12 is :</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Display SDO/MISO  to NodeMCU pin D6 (or leave disconnected if not reading TFT)</span></span><br><span class="line"><span class="comment">// Display LED       to NodeMCU pin VIN (or 5V, see below)</span></span><br><span class="line"><span class="comment">// Display SCK       to NodeMCU pin D5</span></span><br><span class="line"><span class="comment">// Display SDI/MOSI  to NodeMCU pin D7</span></span><br><span class="line"><span class="comment">// Display DC (RS/AO)to NodeMCU pin D3</span></span><br><span class="line"><span class="comment">// Display RESET     to NodeMCU pin D4 (or RST, see below)</span></span><br><span class="line"><span class="comment">// Display CS        to NodeMCU pin D8 (or GND, see below)</span></span><br><span class="line"><span class="comment">// Display GND       to NodeMCU pin GND (0V)</span></span><br><span class="line"><span class="comment">// Display VCC       to NodeMCU 5V or 3.3V</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The TFT RESET pin can be connected to the NodeMCU RST pin or 3.3V to free up a control pin</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The DC (Data Command) pin may be labelled AO or RS (Register Select)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// With some displays such as the ILI9341 the TFT CS pin can be connected to GND if no more</span></span><br><span class="line"><span class="comment">// SPI devices (e.g. an SD Card) are connected, in this case comment out the #define TFT_CS</span></span><br><span class="line"><span class="comment">// line below so it is NOT defined. Other displays such at the ST7735 require the TFT CS pin</span></span><br><span class="line"><span class="comment">// to be toggled during setup, so in these cases the TFT_CS line must be defined and connected.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The NodeMCU D0 pin can be used for RST</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Note: only some versions of the NodeMCU provide the USB 5V on the VIN pin</span></span><br><span class="line"><span class="comment">// If 5V is not available at a pin you can use 3.3V but backlight brightness</span></span><br><span class="line"><span class="comment">// will be lower.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ###### EDIT THE PIN NUMBERS IN THE LINES FOLLOWING TO SUIT YOUR ESP8266 SETUP ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For NodeMCU - use pin numbers in the form PIN_Dx where Dx is the NodeMCU pin designation</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_MISO  PIN_D6  <span class="comment">// Automatically assigned with ESP8266 if not defined</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_MOSI  PIN_D7  <span class="comment">// Automatically assigned with ESP8266 if not defined</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_SCLK  PIN_D5  <span class="comment">// Automatically assigned with ESP8266 if not defined</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_CS    0  <span class="comment">// Chip select control pin D8</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_DC    5  <span class="comment">// Data Command control pin</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_RST   4  <span class="comment">// Reset pin (could connect to NodeMCU RST, see next line)</span></span></span><br><span class="line"><span class="comment">//#define TFT_RST  -1     // Set TFT_RST to -1 if the display RESET is connected to NodeMCU RST or 3.3V</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_BL PIN_D1  // LED back-light (only for ST7789 with backlight control pin)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TOUCH_CS PIN_D2     // Chip select pin (T_CS) of touch screen</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_WR PIN_D2       // Write strobe for modified Raspberry Pi TFT only</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ######  FOR ESP8266 OVERLAP MODE EDIT THE PIN NUMBERS IN THE FOLLOWING LINES  ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Overlap mode shares the ESP8266 FLASH SPI bus with the TFT so has a performance impact</span></span><br><span class="line"><span class="comment">// but saves pins for other functions. It is best not to connect MISO as some displays</span></span><br><span class="line"><span class="comment">// do not tristate that line when chip select is high!</span></span><br><span class="line"><span class="comment">// Note: Only one SPI device can share the FLASH SPI lines, so a SPI touch controller</span></span><br><span class="line"><span class="comment">// cannot be connected as well to the same SPI signals.</span></span><br><span class="line"><span class="comment">// On NodeMCU 1.0 SD0=MISO, SD1=MOSI, CLK=SCLK to connect to TFT in overlap mode</span></span><br><span class="line"><span class="comment">// On NodeMCU V3  S0 =MISO, S1 =MOSI, S2 =SCLK</span></span><br><span class="line"><span class="comment">// In ESP8266 overlap mode the following must be defined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_SPI_OVERLAP</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// In ESP8266 overlap mode the TFT chip select MUST connect to pin D3</span></span><br><span class="line"><span class="comment">//#define TFT_CS   PIN_D3</span></span><br><span class="line"><span class="comment">//#define TFT_DC   PIN_D5  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST  PIN_D4  // Reset pin (could connect to NodeMCU RST, see next line)</span></span><br><span class="line"><span class="comment">//#define TFT_RST  -1  // Set TFT_RST to -1 if the display RESET is connected to NodeMCU RST or 3.3V</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ###### EDIT THE PIN NUMBERS IN THE LINES FOLLOWING TO SUIT YOUR ESP32 SETUP   ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ESP32 Dev board (only tested with ILI9341 display)</span></span><br><span class="line"><span class="comment">// The hardware SPI can be mapped to any pins</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_MISO 19</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI 23</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK 18</span></span><br><span class="line"><span class="comment">//#define TFT_CS   15  // Chip select control pin</span></span><br><span class="line"><span class="comment">//#define TFT_DC    2  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST   4  // Reset pin (could connect to RST pin)</span></span><br><span class="line"><span class="comment">//#define TFT_RST  -1  // Set TFT_RST to -1 if display RESET is connected to ESP32 board RST</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ESP32 Dev board (only tested with GC9A01 display)</span></span><br><span class="line"><span class="comment">// The hardware SPI can be mapped to any pins</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_MOSI 15 // In some display driver board, it might be written as &quot;SDA&quot; and so on.</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK 14</span></span><br><span class="line"><span class="comment">//#define TFT_CS   5  // Chip select control pin</span></span><br><span class="line"><span class="comment">//#define TFT_DC   27  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST  33  // Reset pin (could connect to Arduino RESET pin)</span></span><br><span class="line"><span class="comment">//#define TFT_BL   22  // LED back-light</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TOUCH_CS 21     // Chip select pin (T_CS) of touch screen</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_WR 22    // Write strobe for modified Raspberry Pi TFT only</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For the M5Stack module use these #define lines</span></span><br><span class="line"><span class="comment">//#define TFT_MISO 19</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI 23</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK 18</span></span><br><span class="line"><span class="comment">//#define TFT_CS   14  // Chip select control pin</span></span><br><span class="line"><span class="comment">//#define TFT_DC   27  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST  33  // Reset pin (could connect to Arduino RESET pin)</span></span><br><span class="line"><span class="comment">//#define TFT_BL   32  // LED back-light (required for M5Stack)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ######       EDIT THE PINs BELOW TO SUIT YOUR ESP32 PARALLEL TFT SETUP        ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The library supports 8-bit parallel TFTs with the ESP32, the pin</span></span><br><span class="line"><span class="comment">// selection below is compatible with ESP32 boards in UNO format.</span></span><br><span class="line"><span class="comment">// Wemos D32 boards need to be modified, see diagram in Tools folder.</span></span><br><span class="line"><span class="comment">// Only ILI9481 and ILI9341 based displays have been tested!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Parallel bus is only supported for the STM32 and ESP32</span></span><br><span class="line"><span class="comment">// Example below is for ESP32 Parallel interface with UNO displays</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Tell the library to use 8-bit parallel mode (otherwise SPI is assumed)</span></span><br><span class="line"><span class="comment">//#define TFT_PARALLEL_8_BIT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The ESP32 and TFT the pins used for testing are:</span></span><br><span class="line"><span class="comment">//#define TFT_CS   33  // Chip select control pin (library pulls permanently low</span></span><br><span class="line"><span class="comment">//#define TFT_DC   15  // Data Command control pin - must use a pin in the range 0-31</span></span><br><span class="line"><span class="comment">//#define TFT_RST  32  // Reset pin, toggles on startup</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_WR    4  // Write strobe control pin - must use a pin in the range 0-31</span></span><br><span class="line"><span class="comment">//#define TFT_RD    2  // Read strobe control pin</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_D0   12  // Must use pins in the range 0-31 for the data bus</span></span><br><span class="line"><span class="comment">//#define TFT_D1   13  // so a single register write sets/clears all bits.</span></span><br><span class="line"><span class="comment">//#define TFT_D2   26  // Pins can be randomly assigned, this does not affect</span></span><br><span class="line"><span class="comment">//#define TFT_D3   25  // TFT screen update performance.</span></span><br><span class="line"><span class="comment">//#define TFT_D4   17</span></span><br><span class="line"><span class="comment">//#define TFT_D5   16</span></span><br><span class="line"><span class="comment">//#define TFT_D6   27</span></span><br><span class="line"><span class="comment">//#define TFT_D7   14</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ######       EDIT THE PINs BELOW TO SUIT YOUR STM32 SPI TFT SETUP        ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The TFT can be connected to SPI port 1 or 2</span></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 1 // SPI port 1 maximum clock rate is 55MHz</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI PA7</span></span><br><span class="line"><span class="comment">//#define TFT_MISO PA6</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK PA5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 2 // SPI port 2 maximum clock rate is 27MHz</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI PB15</span></span><br><span class="line"><span class="comment">//#define TFT_MISO PB14</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK PB13</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Can use Ardiuno pin references, arbitrary allocation, TFT_eSPI controls chip select</span></span><br><span class="line"><span class="comment">//#define TFT_CS   D5 // Chip select control pin to TFT CS</span></span><br><span class="line"><span class="comment">//#define TFT_DC   D6 // Data Command control pin to TFT DC (may be labelled RS = Register Select)</span></span><br><span class="line"><span class="comment">//#define TFT_RST  D7 // Reset pin to TFT RST (or RESET)</span></span><br><span class="line"><span class="comment">// OR alternatively, we can use STM32 port reference names PXnn</span></span><br><span class="line"><span class="comment">//#define TFT_CS   PE11 // Nucleo-F767ZI equivalent of D5</span></span><br><span class="line"><span class="comment">//#define TFT_DC   PE9  // Nucleo-F767ZI equivalent of D6</span></span><br><span class="line"><span class="comment">//#define TFT_RST  PF13 // Nucleo-F767ZI equivalent of D7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_RST  -1   // Set TFT_RST to -1 if the display RESET is connected to processor reset</span></span><br><span class="line">                        <span class="comment">// Use an Arduino pin for initial testing as connecting to processor reset</span></span><br><span class="line">                        <span class="comment">// may not work (pulse too short at power up?)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 3. Define the fonts that are to be used here</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Comment out the #defines below with // to stop that font being loaded</span></span><br><span class="line"><span class="comment">// The ESP8366 and ESP32 have plenty of memory so commenting out fonts is not</span></span><br><span class="line"><span class="comment">// normally necessary. If all fonts are loaded the extra FLASH space required is</span></span><br><span class="line"><span class="comment">// about 17Kbytes. To save FLASH space only enable the fonts you need!</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_GLCD   <span class="comment">// Font 1. Original Adafruit 8 pixel font needs ~1820 bytes in FLASH</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT2  <span class="comment">// Font 2. Small 16 pixel high font, needs ~3534 bytes in FLASH, 96 characters</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT4  <span class="comment">// Font 4. Medium 26 pixel high font, needs ~5848 bytes in FLASH, 96 characters</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT6  <span class="comment">// Font 6. Large 48 pixel font, needs ~2666 bytes in FLASH, only characters 1234567890:-.apm</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT7  <span class="comment">// Font 7. 7 segment 48 pixel font, needs ~2438 bytes in FLASH, only characters 1234567890:-.</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT8  <span class="comment">// Font 8. Large 75 pixel font needs ~3256 bytes in FLASH, only characters 1234567890:-.</span></span></span><br><span class="line"><span class="comment">//#define LOAD_FONT8N // Font 8. Alternative to Font 8 above, slightly narrower, so 3 digits fit a 160 pixel TFT</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_GFXFF  <span class="comment">// FreeFonts. Include access to the 48 Adafruit_GFX free fonts FF1 to FF48 and custom fonts</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Comment out the #define below to stop the SPIFFS filing system and smooth font code being loaded</span></span><br><span class="line"><span class="comment">// this will save ~20kbytes of FLASH</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SMOOTH_FONT</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 4. Other options</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For RP2040 processor and SPI displays, uncomment the following line to use the PIO interface.</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_SPI // Leave commented out to use standard RP2040 SPI port interface</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For RP2040 processor and 8 or 16-bit parallel displays:</span></span><br><span class="line"><span class="comment">// The parallel interface write cycle period is derived from a division of the CPU clock</span></span><br><span class="line"><span class="comment">// speed so scales with the processor clock. This means that the divider ratio may need</span></span><br><span class="line"><span class="comment">// to be increased when overclocking. It may also need to be adjusted dependant on the</span></span><br><span class="line"><span class="comment">// display controller type (ILI94341, HX8357C etc.). If RP2040_PIO_CLK_DIV is not defined</span></span><br><span class="line"><span class="comment">// the library will set default values which may not suit your display.</span></span><br><span class="line"><span class="comment">// The display controller data sheet will specify the minimum write cycle period. The</span></span><br><span class="line"><span class="comment">// controllers often work reliably for shorter periods, however if the period is too short</span></span><br><span class="line"><span class="comment">// the display may not initialise or graphics will become corrupted.</span></span><br><span class="line"><span class="comment">// PIO write cycle frequency = (CPU clock/(4 * RP2040_PIO_CLK_DIV))</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_CLK_DIV 1 // 32ns write cycle at 125MHz CPU clock</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_CLK_DIV 2 // 64ns write cycle at 125MHz CPU clock</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_CLK_DIV 3 // 96ns write cycle at 125MHz CPU clock</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For the RP2040 processor define the SPI port channel used (default 0 if undefined)</span></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 1 // Set to 0 if SPI0 pins are used, or 1 if spi1 pins used</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For the STM32 processor define the SPI port channel used (default 1 if undefined)</span></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 2 // Set to 1 for SPI port 1, or 2 for SPI port 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the SPI clock frequency, this affects the graphics rendering speed. Too</span></span><br><span class="line"><span class="comment">// fast and the TFT driver will not keep up and display corruption appears.</span></span><br><span class="line"><span class="comment">// With an ILI9341 display 40MHz works OK, 80MHz sometimes fails</span></span><br><span class="line"><span class="comment">// With a ST7735 display more than 27MHz may not work (spurious pixels and lines)</span></span><br><span class="line"><span class="comment">// With an ILI9163 display 27 MHz works OK.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY   1000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY   5000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  10000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  20000000</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPI_FREQUENCY  27000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  40000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  55000000 // STM32 SPI1 only (SPI2 maximum is 27MHz)</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  80000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Optional reduced SPI frequency for reading TFT</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPI_READ_FREQUENCY  20000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The XPT2046 requires a lower SPI clock rate of 2.5MHz so we define that here:</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPI_TOUCH_FREQUENCY  2500000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The ESP32 has 2 free SPI ports i.e. VSPI and HSPI, the VSPI is the default.</span></span><br><span class="line"><span class="comment">// If the VSPI port is in use and pins are not accessible (e.g. TTGO T-Beam)</span></span><br><span class="line"><span class="comment">// then uncomment the following line:</span></span><br><span class="line"><span class="comment">//#define USE_HSPI_PORT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Comment out the following #define if &quot;SPI Transactions&quot; do not need to be</span></span><br><span class="line"><span class="comment">// supported. When commented out the code size will be smaller and sketches will</span></span><br><span class="line"><span class="comment">// run slightly faster, so leave it commented out unless you need it!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Transaction support is needed to work with SD library but not needed with TFT_SdFat</span></span><br><span class="line"><span class="comment">// Transaction support is required if other SPI devices are connected.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Transactions are automatically enabled by the library for an ESP32 (to use HAL mutex)</span></span><br><span class="line"><span class="comment">// so changing it here has no effect</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define SUPPORT_TRANSACTIONS</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="st7735"><a href="#st7735" class="headerlink" title="st7735"></a>st7735</h2><p>GND-GND</p>
<p>VCC-3V3</p>
<p>SCL-D5</p>
<p>SDA-D7</p>
<p>RES-D4</p>
<p>DC-D3</p>
<p>CS-D8</p>
<p>BLC-3V3</p>
<p>User_Setup.h</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//                            USER DEFINED SETTINGS</span></span><br><span class="line"><span class="comment">//   Set driver type, fonts to be loaded, pins used and SPI control method etc.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   See the User_Setup_Select.h file if you wish to be able to define multiple</span></span><br><span class="line"><span class="comment">//   setups and then easily select which setup file is used by the compiler.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   If this file is edited correctly then all the library example sketches should</span></span><br><span class="line"><span class="comment">//   run without the need to make any more changes for a particular hardware setup!</span></span><br><span class="line"><span class="comment">//   Note that some sketches are designed for a particular TFT pixel width/height</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// User defined information reported by &quot;Read_User_Setup&quot; test &amp; diagnostics example</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> USER_SETUP_INFO <span class="string">&quot;User_Setup&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define to disable all #warnings in library (can be put in User_Setup_Select.h)</span></span><br><span class="line"><span class="comment">//#define DISABLE_ALL_LIBRARY_WARNINGS</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 1. Call up the right driver file and any options for it</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define STM32 to invoke optimised processor support (only for STM32)</span></span><br><span class="line"><span class="comment">//#define STM32</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Defining the STM32 board allows the library to optimise the performance</span></span><br><span class="line"><span class="comment">// for UNO compatible &quot;MCUfriend&quot; style shields</span></span><br><span class="line"><span class="comment">//#define NUCLEO_64_TFT</span></span><br><span class="line"><span class="comment">//#define NUCLEO_144_TFT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// STM32 8-bit parallel only:</span></span><br><span class="line"><span class="comment">// If STN32 Port A or B pins 0-7 are used for 8-bit parallel data bus bits 0-7</span></span><br><span class="line"><span class="comment">// then this will improve rendering performance by a factor of ~8x</span></span><br><span class="line"><span class="comment">//#define STM_PORTA_DATA_BUS</span></span><br><span class="line"><span class="comment">//#define STM_PORTB_DATA_BUS</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Tell the library to use parallel mode (otherwise SPI is assumed)</span></span><br><span class="line"><span class="comment">//#define TFT_PARALLEL_8_BIT</span></span><br><span class="line"><span class="comment">//#defined TFT_PARALLEL_16_BIT // **** 16-bit parallel ONLY for RP2040 processor ****</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Display type -  only define if RPi display</span></span><br><span class="line"><span class="comment">//#define RPI_DISPLAY_TYPE // 20MHz maximum SPI</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Only define one driver, the other ones must be commented out</span></span><br><span class="line"><span class="comment">// #define ILI9341_DRIVER       // Generic driver for common displays</span></span><br><span class="line"><span class="comment">//#define ILI9341_2_DRIVER     // Alternative ILI9341 driver, see https://github.com/Bodmer/TFT_eSPI/issues/1172</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ST7735_DRIVER      <span class="comment">// Define additional parameters below for this display</span></span></span><br><span class="line"><span class="comment">//#define ILI9163_DRIVER     // Define additional parameters below for this display</span></span><br><span class="line"><span class="comment">//#define S6D02A1_DRIVER</span></span><br><span class="line"><span class="comment">//#define RPI_ILI9486_DRIVER // 20MHz maximum SPI</span></span><br><span class="line"><span class="comment">//#define HX8357D_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9481_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9486_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9488_DRIVER     // WARNING: Do not connect ILI9488 display SDO to MISO if other devices share the SPI bus (TFT SDO does NOT tristate when CS is high)</span></span><br><span class="line"><span class="comment">//#define ST7789_DRIVER      // Full configuration option, define additional parameters below for this display</span></span><br><span class="line"><span class="comment">//#define ST7789_2_DRIVER    // Minimal configuration option, define additional parameters below for this display</span></span><br><span class="line"><span class="comment">//#define R61581_DRIVER</span></span><br><span class="line"><span class="comment">//#define RM68140_DRIVER</span></span><br><span class="line"><span class="comment">//#define ST7796_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1351_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1963_480_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1963_800_DRIVER</span></span><br><span class="line"><span class="comment">//#define SSD1963_800ALT_DRIVER</span></span><br><span class="line"><span class="comment">//#define ILI9225_DRIVER</span></span><br><span class="line"><span class="comment">//#define GC9A01_DRIVER</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Some displays support SPI reads via the MISO pin, other displays have a single</span></span><br><span class="line"><span class="comment">// bi-directional SDA pin and the library will try to read this via the MOSI line.</span></span><br><span class="line"><span class="comment">// To use the SDA line for reading data from the TFT uncomment the following line:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define TFT_SDA_READ      // This option is for ESP32 ONLY, tested with ST7789 and GC9A01 display only</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ST7735, ST7789 and ILI9341 ONLY, define the colour order IF the blue and red are swapped on your display</span></span><br><span class="line"><span class="comment">// Try ONE option at a time to find the correct colour order for your display</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  #define TFT_RGB_ORDER TFT_RGB  // Colour order Red-Green-Blue</span></span><br><span class="line"> <span class="meta">#<span class="keyword">define</span> TFT_RGB_ORDER TFT_BGR  <span class="comment">// Colour order Blue-Green-Red</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For M5Stack ESP32 module with integrated ILI9341 display ONLY, remove // in line below</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define M5STACK</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ST7789, ST7735, ILI9163 and GC9A01 ONLY, define the pixel width and height in portrait orientation</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  80</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_WIDTH  128</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  172 // ST7789 172 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  170 // ST7789 170 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_WIDTH  240 // ST7789 240 x 240 and 240 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 160</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_HEIGHT 128</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 240 // ST7789 240 x 240</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 320 // ST7789 240 x 320</span></span><br><span class="line"><span class="comment">// #define TFT_HEIGHT 240 // GC9A01 240 x 240</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ST7735 ONLY, define the type of display, originally this was based on the</span></span><br><span class="line"><span class="comment">// colour of the tab on the screen protector film but this is not always true, so try</span></span><br><span class="line"><span class="comment">// out the different options below if the screen does not display graphics correctly,</span></span><br><span class="line"><span class="comment">// e.g. colours wrong, mirror images, or stray pixels at the edges.</span></span><br><span class="line"><span class="comment">// Comment out ALL BUT ONE of these options for a ST7735 display driver, save this</span></span><br><span class="line"><span class="comment">// this User_Setup file, then rebuild and upload the sketch to the board again:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define ST7735_INITB</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ST7735_GREENTAB3</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB128    // For 128 x 128 display</span></span><br><span class="line"><span class="comment">// #define ST7735_GREENTAB160x80 // For 160 x 80 display (BGR, inverted, 26 offset)</span></span><br><span class="line"><span class="comment">// #define ST7735_ROBOTLCD       // For some RobotLCD Arduino shields (128x160, BGR, https://docs.arduino.cc/retired/getting-started-guides/TFT)</span></span><br><span class="line"><span class="comment">// #define ST7735_REDTAB</span></span><br><span class="line"><span class="comment">// #define ST7735_BLACKTAB</span></span><br><span class="line"><span class="comment">// #define ST7735_REDTAB160x80   // For 160 x 80 display with 24 pixel offset</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If colours are inverted (white shows as black) then uncomment one of the next</span></span><br><span class="line"><span class="comment">// 2 lines try both options, one of the options should correct the inversion.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define TFT_INVERSION_ON</span></span><br><span class="line"><span class="comment">// #define TFT_INVERSION_OFF</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 2. Define the pins that are used to interface with the display here</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If a backlight control signal is available then define the TFT_BL pin in Section 2</span></span><br><span class="line"><span class="comment">// below. The backlight will be turned ON when tft.begin() is called, but the library</span></span><br><span class="line"><span class="comment">// needs to know if the LEDs are ON with the pin HIGH or LOW. If the LEDs are to be</span></span><br><span class="line"><span class="comment">// driven with a PWM signal or turned OFF/ON then this must be handled by the user</span></span><br><span class="line"><span class="comment">// sketch. e.g. with digitalWrite(TFT_BL, LOW);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define TFT_BL   32            // LED back-light control pin</span></span><br><span class="line"><span class="comment">// #define TFT_BACKLIGHT_ON HIGH  // Level to turn ON back-light (HIGH or LOW)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// We must use hardware SPI, a minimum of 3 GPIO pins is needed.</span></span><br><span class="line"><span class="comment">// Typical setup for ESP8266 NodeMCU ESP-12 is :</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Display SDO/MISO  to NodeMCU pin D6 (or leave disconnected if not reading TFT)</span></span><br><span class="line"><span class="comment">// Display LED       to NodeMCU pin VIN (or 5V, see below)</span></span><br><span class="line"><span class="comment">// Display SCK       to NodeMCU pin D5</span></span><br><span class="line"><span class="comment">// Display SDI/MOSI  to NodeMCU pin D7</span></span><br><span class="line"><span class="comment">// Display DC (RS/AO)to NodeMCU pin D3</span></span><br><span class="line"><span class="comment">// Display RESET     to NodeMCU pin D4 (or RST, see below)</span></span><br><span class="line"><span class="comment">// Display CS        to NodeMCU pin D8 (or GND, see below)</span></span><br><span class="line"><span class="comment">// Display GND       to NodeMCU pin GND (0V)</span></span><br><span class="line"><span class="comment">// Display VCC       to NodeMCU 5V or 3.3V</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The TFT RESET pin can be connected to the NodeMCU RST pin or 3.3V to free up a control pin</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The DC (Data Command) pin may be labelled AO or RS (Register Select)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// With some displays such as the ILI9341 the TFT CS pin can be connected to GND if no more</span></span><br><span class="line"><span class="comment">// SPI devices (e.g. an SD Card) are connected, in this case comment out the #define TFT_CS</span></span><br><span class="line"><span class="comment">// line below so it is NOT defined. Other displays such at the ST7735 require the TFT CS pin</span></span><br><span class="line"><span class="comment">// to be toggled during setup, so in these cases the TFT_CS line must be defined and connected.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The NodeMCU D0 pin can be used for RST</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Note: only some versions of the NodeMCU provide the USB 5V on the VIN pin</span></span><br><span class="line"><span class="comment">// If 5V is not available at a pin you can use 3.3V but backlight brightness</span></span><br><span class="line"><span class="comment">// will be lower.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ###### EDIT THE PIN NUMBERS IN THE LINES FOLLOWING TO SUIT YOUR ESP8266 SETUP ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For NodeMCU - use pin numbers in the form PIN_Dx where Dx is the NodeMCU pin designation</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_MISO  PIN_D6  <span class="comment">// Automatically assigned with ESP8266 if not defined</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_MOSI  PIN_D7  <span class="comment">// Automatically assigned with ESP8266 if not defined</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_SCLK  PIN_D5  <span class="comment">// Automatically assigned with ESP8266 if not defined</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_CS    PIN_D8  <span class="comment">// Chip select control pin D8</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_DC    PIN_D3  <span class="comment">// Data Command control pin</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TFT_RST   PIN_D4  <span class="comment">// Reset pin (could connect to NodeMCU RST, see next line)</span></span></span><br><span class="line"><span class="comment">//#define TFT_RST  -1     // Set TFT_RST to -1 if the display RESET is connected to NodeMCU RST or 3.3V</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_BL PIN_D1  // LED back-light (only for ST7789 with backlight control pin)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TOUCH_CS PIN_D2     // Chip select pin (T_CS) of touch screen</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_WR PIN_D2       // Write strobe for modified Raspberry Pi TFT only</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ######  FOR ESP8266 OVERLAP MODE EDIT THE PIN NUMBERS IN THE FOLLOWING LINES  ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Overlap mode shares the ESP8266 FLASH SPI bus with the TFT so has a performance impact</span></span><br><span class="line"><span class="comment">// but saves pins for other functions. It is best not to connect MISO as some displays</span></span><br><span class="line"><span class="comment">// do not tristate that line when chip select is high!</span></span><br><span class="line"><span class="comment">// Note: Only one SPI device can share the FLASH SPI lines, so a SPI touch controller</span></span><br><span class="line"><span class="comment">// cannot be connected as well to the same SPI signals.</span></span><br><span class="line"><span class="comment">// On NodeMCU 1.0 SD0=MISO, SD1=MOSI, CLK=SCLK to connect to TFT in overlap mode</span></span><br><span class="line"><span class="comment">// On NodeMCU V3  S0 =MISO, S1 =MOSI, S2 =SCLK</span></span><br><span class="line"><span class="comment">// In ESP8266 overlap mode the following must be defined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_SPI_OVERLAP</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// In ESP8266 overlap mode the TFT chip select MUST connect to pin D3</span></span><br><span class="line"><span class="comment">//#define TFT_CS   PIN_D3</span></span><br><span class="line"><span class="comment">//#define TFT_DC   PIN_D5  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST  PIN_D4  // Reset pin (could connect to NodeMCU RST, see next line)</span></span><br><span class="line"><span class="comment">//#define TFT_RST  -1  // Set TFT_RST to -1 if the display RESET is connected to NodeMCU RST or 3.3V</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ###### EDIT THE PIN NUMBERS IN THE LINES FOLLOWING TO SUIT YOUR ESP32 SETUP   ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ESP32 Dev board (only tested with ILI9341 display)</span></span><br><span class="line"><span class="comment">// The hardware SPI can be mapped to any pins</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_MISO 19</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI 23</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK 18</span></span><br><span class="line"><span class="comment">//#define TFT_CS   15  // Chip select control pin</span></span><br><span class="line"><span class="comment">//#define TFT_DC    2  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST   4  // Reset pin (could connect to RST pin)</span></span><br><span class="line"><span class="comment">//#define TFT_RST  -1  // Set TFT_RST to -1 if display RESET is connected to ESP32 board RST</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For ESP32 Dev board (only tested with GC9A01 display)</span></span><br><span class="line"><span class="comment">// The hardware SPI can be mapped to any pins</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_MOSI 15 // In some display driver board, it might be written as &quot;SDA&quot; and so on.</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK 14</span></span><br><span class="line"><span class="comment">//#define TFT_CS   5  // Chip select control pin</span></span><br><span class="line"><span class="comment">//#define TFT_DC   27  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST  33  // Reset pin (could connect to Arduino RESET pin)</span></span><br><span class="line"><span class="comment">//#define TFT_BL   22  // LED back-light</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TOUCH_CS 21     // Chip select pin (T_CS) of touch screen</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_WR 22    // Write strobe for modified Raspberry Pi TFT only</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For the M5Stack module use these #define lines</span></span><br><span class="line"><span class="comment">//#define TFT_MISO 19</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI 23</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK 18</span></span><br><span class="line"><span class="comment">//#define TFT_CS   14  // Chip select control pin</span></span><br><span class="line"><span class="comment">//#define TFT_DC   27  // Data Command control pin</span></span><br><span class="line"><span class="comment">//#define TFT_RST  33  // Reset pin (could connect to Arduino RESET pin)</span></span><br><span class="line"><span class="comment">//#define TFT_BL   32  // LED back-light (required for M5Stack)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ######       EDIT THE PINs BELOW TO SUIT YOUR ESP32 PARALLEL TFT SETUP        ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The library supports 8-bit parallel TFTs with the ESP32, the pin</span></span><br><span class="line"><span class="comment">// selection below is compatible with ESP32 boards in UNO format.</span></span><br><span class="line"><span class="comment">// Wemos D32 boards need to be modified, see diagram in Tools folder.</span></span><br><span class="line"><span class="comment">// Only ILI9481 and ILI9341 based displays have been tested!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Parallel bus is only supported for the STM32 and ESP32</span></span><br><span class="line"><span class="comment">// Example below is for ESP32 Parallel interface with UNO displays</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Tell the library to use 8-bit parallel mode (otherwise SPI is assumed)</span></span><br><span class="line"><span class="comment">//#define TFT_PARALLEL_8_BIT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The ESP32 and TFT the pins used for testing are:</span></span><br><span class="line"><span class="comment">//#define TFT_CS   33  // Chip select control pin (library pulls permanently low</span></span><br><span class="line"><span class="comment">//#define TFT_DC   15  // Data Command control pin - must use a pin in the range 0-31</span></span><br><span class="line"><span class="comment">//#define TFT_RST  32  // Reset pin, toggles on startup</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_WR    4  // Write strobe control pin - must use a pin in the range 0-31</span></span><br><span class="line"><span class="comment">//#define TFT_RD    2  // Read strobe control pin</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_D0   12  // Must use pins in the range 0-31 for the data bus</span></span><br><span class="line"><span class="comment">//#define TFT_D1   13  // so a single register write sets/clears all bits.</span></span><br><span class="line"><span class="comment">//#define TFT_D2   26  // Pins can be randomly assigned, this does not affect</span></span><br><span class="line"><span class="comment">//#define TFT_D3   25  // TFT screen update performance.</span></span><br><span class="line"><span class="comment">//#define TFT_D4   17</span></span><br><span class="line"><span class="comment">//#define TFT_D5   16</span></span><br><span class="line"><span class="comment">//#define TFT_D6   27</span></span><br><span class="line"><span class="comment">//#define TFT_D7   14</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ######       EDIT THE PINs BELOW TO SUIT YOUR STM32 SPI TFT SETUP        ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The TFT can be connected to SPI port 1 or 2</span></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 1 // SPI port 1 maximum clock rate is 55MHz</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI PA7</span></span><br><span class="line"><span class="comment">//#define TFT_MISO PA6</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK PA5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 2 // SPI port 2 maximum clock rate is 27MHz</span></span><br><span class="line"><span class="comment">//#define TFT_MOSI PB15</span></span><br><span class="line"><span class="comment">//#define TFT_MISO PB14</span></span><br><span class="line"><span class="comment">//#define TFT_SCLK PB13</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Can use Ardiuno pin references, arbitrary allocation, TFT_eSPI controls chip select</span></span><br><span class="line"><span class="comment">//#define TFT_CS   D5 // Chip select control pin to TFT CS</span></span><br><span class="line"><span class="comment">//#define TFT_DC   D6 // Data Command control pin to TFT DC (may be labelled RS = Register Select)</span></span><br><span class="line"><span class="comment">//#define TFT_RST  D7 // Reset pin to TFT RST (or RESET)</span></span><br><span class="line"><span class="comment">// OR alternatively, we can use STM32 port reference names PXnn</span></span><br><span class="line"><span class="comment">//#define TFT_CS   PE11 // Nucleo-F767ZI equivalent of D5</span></span><br><span class="line"><span class="comment">//#define TFT_DC   PE9  // Nucleo-F767ZI equivalent of D6</span></span><br><span class="line"><span class="comment">//#define TFT_RST  PF13 // Nucleo-F767ZI equivalent of D7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define TFT_RST  -1   // Set TFT_RST to -1 if the display RESET is connected to processor reset</span></span><br><span class="line">                        <span class="comment">// Use an Arduino pin for initial testing as connecting to processor reset</span></span><br><span class="line">                        <span class="comment">// may not work (pulse too short at power up?)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 3. Define the fonts that are to be used here</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Comment out the #defines below with // to stop that font being loaded</span></span><br><span class="line"><span class="comment">// The ESP8366 and ESP32 have plenty of memory so commenting out fonts is not</span></span><br><span class="line"><span class="comment">// normally necessary. If all fonts are loaded the extra FLASH space required is</span></span><br><span class="line"><span class="comment">// about 17Kbytes. To save FLASH space only enable the fonts you need!</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_GLCD   <span class="comment">// Font 1. Original Adafruit 8 pixel font needs ~1820 bytes in FLASH</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT2  <span class="comment">// Font 2. Small 16 pixel high font, needs ~3534 bytes in FLASH, 96 characters</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT4  <span class="comment">// Font 4. Medium 26 pixel high font, needs ~5848 bytes in FLASH, 96 characters</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT6  <span class="comment">// Font 6. Large 48 pixel font, needs ~2666 bytes in FLASH, only characters 1234567890:-.apm</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT7  <span class="comment">// Font 7. 7 segment 48 pixel font, needs ~2438 bytes in FLASH, only characters 1234567890:-.</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_FONT8  <span class="comment">// Font 8. Large 75 pixel font needs ~3256 bytes in FLASH, only characters 1234567890:-.</span></span></span><br><span class="line"><span class="comment">//#define LOAD_FONT8N // Font 8. Alternative to Font 8 above, slightly narrower, so 3 digits fit a 160 pixel TFT</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOAD_GFXFF  <span class="comment">// FreeFonts. Include access to the 48 Adafruit_GFX free fonts FF1 to FF48 and custom fonts</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Comment out the #define below to stop the SPIFFS filing system and smooth font code being loaded</span></span><br><span class="line"><span class="comment">// this will save ~20kbytes of FLASH</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SMOOTH_FONT</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Section 4. Other options</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ##################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For RP2040 processor and SPI displays, uncomment the following line to use the PIO interface.</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_SPI // Leave commented out to use standard RP2040 SPI port interface</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For RP2040 processor and 8 or 16-bit parallel displays:</span></span><br><span class="line"><span class="comment">// The parallel interface write cycle period is derived from a division of the CPU clock</span></span><br><span class="line"><span class="comment">// speed so scales with the processor clock. This means that the divider ratio may need</span></span><br><span class="line"><span class="comment">// to be increased when overclocking. It may also need to be adjusted dependant on the</span></span><br><span class="line"><span class="comment">// display controller type (ILI94341, HX8357C etc.). If RP2040_PIO_CLK_DIV is not defined</span></span><br><span class="line"><span class="comment">// the library will set default values which may not suit your display.</span></span><br><span class="line"><span class="comment">// The display controller data sheet will specify the minimum write cycle period. The</span></span><br><span class="line"><span class="comment">// controllers often work reliably for shorter periods, however if the period is too short</span></span><br><span class="line"><span class="comment">// the display may not initialise or graphics will become corrupted.</span></span><br><span class="line"><span class="comment">// PIO write cycle frequency = (CPU clock/(4 * RP2040_PIO_CLK_DIV))</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_CLK_DIV 1 // 32ns write cycle at 125MHz CPU clock</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_CLK_DIV 2 // 64ns write cycle at 125MHz CPU clock</span></span><br><span class="line"><span class="comment">//#define RP2040_PIO_CLK_DIV 3 // 96ns write cycle at 125MHz CPU clock</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For the RP2040 processor define the SPI port channel used (default 0 if undefined)</span></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 1 // Set to 0 if SPI0 pins are used, or 1 if spi1 pins used</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For the STM32 processor define the SPI port channel used (default 1 if undefined)</span></span><br><span class="line"><span class="comment">//#define TFT_SPI_PORT 2 // Set to 1 for SPI port 1, or 2 for SPI port 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the SPI clock frequency, this affects the graphics rendering speed. Too</span></span><br><span class="line"><span class="comment">// fast and the TFT driver will not keep up and display corruption appears.</span></span><br><span class="line"><span class="comment">// With an ILI9341 display 40MHz works OK, 80MHz sometimes fails</span></span><br><span class="line"><span class="comment">// With a ST7735 display more than 27MHz may not work (spurious pixels and lines)</span></span><br><span class="line"><span class="comment">// With an ILI9163 display 27 MHz works OK.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY   1000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY   5000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  10000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  20000000</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPI_FREQUENCY  27000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  40000000</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  55000000 // STM32 SPI1 only (SPI2 maximum is 27MHz)</span></span><br><span class="line"><span class="comment">// #define SPI_FREQUENCY  80000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Optional reduced SPI frequency for reading TFT</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPI_READ_FREQUENCY  20000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The XPT2046 requires a lower SPI clock rate of 2.5MHz so we define that here:</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPI_TOUCH_FREQUENCY  2500000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The ESP32 has 2 free SPI ports i.e. VSPI and HSPI, the VSPI is the default.</span></span><br><span class="line"><span class="comment">// If the VSPI port is in use and pins are not accessible (e.g. TTGO T-Beam)</span></span><br><span class="line"><span class="comment">// then uncomment the following line:</span></span><br><span class="line"><span class="comment">//#define USE_HSPI_PORT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Comment out the following #define if &quot;SPI Transactions&quot; do not need to be</span></span><br><span class="line"><span class="comment">// supported. When commented out the code size will be smaller and sketches will</span></span><br><span class="line"><span class="comment">// run slightly faster, so leave it commented out unless you need it!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Transaction support is needed to work with SD library but not needed with TFT_SdFat</span></span><br><span class="line"><span class="comment">// Transaction support is required if other SPI devices are connected.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Transactions are automatically enabled by the library for an ESP32 (to use HAL mutex)</span></span><br><span class="line"><span class="comment">// so changing it here has no effect</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define SUPPORT_TRANSACTIONS</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="OLED-u8g2"><a href="#OLED-u8g2" class="headerlink" title="OLED -&gt; u8g2"></a>OLED -&gt; u8g2</h1><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1972996">【实例演示】ESP8266+U8g2库，玩转OLED显示-腾讯云开发者社区-腾讯云</a></p>
<p>SCL-D1</p>
<p>SDA-D2</p>
<p>VCC-3V3</p>
<p>GND-GND</p>
<h1 id="8x8点阵-LedControl"><a href="#8x8点阵-LedControl" class="headerlink" title="8x8点阵 -&gt; LedControl"></a>8x8点阵 -&gt; LedControl</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36955622/article/details/120077367">ESP8266(ESP-12F) 第三方库使用 – LedControl_ledcontrol.h-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36955622/article/details/120523307">ESP8266（ESP-12F）案例实操 – 8x32点阵显示（MAX7219）_esp8266 max7219-CSDN博客</a></p>
<p>VCC-3V3</p>
<p>GND-GND</p>
<p>DIN-D1</p>
<p>CS-D2</p>
<p>CLK-D3</p>
<h1 id="SD卡"><a href="#SD卡" class="headerlink" title="SD卡"></a>SD卡</h1><p>sd存储卡需要在使用前格式化，尝试fat文件系统</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/560767909">ESP8266连接SD&#x2F;TF卡模块坑点纪要 - 知乎</a></p>
<table>
<thead>
<tr>
<th>模块上的引脚</th>
<th>8266模块GPIO引脚（WEMOS）</th>
<th>只标了D编号的NODEMCU</th>
</tr>
</thead>
<tbody><tr>
<td>VCC</td>
<td>5V</td>
<td>5V</td>
</tr>
<tr>
<td>GND</td>
<td>GND</td>
<td>GND</td>
</tr>
<tr>
<td>CLK</td>
<td>GPIO14</td>
<td>D5</td>
</tr>
<tr>
<td>MISO</td>
<td>GPIO12</td>
<td>D6</td>
</tr>
<tr>
<td>MOSI</td>
<td>GPIO13</td>
<td>D7</td>
</tr>
<tr>
<td>CS</td>
<td>GPIO4</td>
<td>D2</td>
</tr>
</tbody></table>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TFT-TFT-espi"><span class="toc-number">1.</span> <span class="toc-text">TFT   -&gt;  TFT_espi</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#st7739"><span class="toc-number">1.1.</span> <span class="toc-text">st7739</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#st7735"><span class="toc-number">1.2.</span> <span class="toc-text">st7735</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#OLED-u8g2"><span class="toc-number">2.</span> <span class="toc-text">OLED -&gt; u8g2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8x8%E7%82%B9%E9%98%B5-LedControl"><span class="toc-number">3.</span> <span class="toc-text">8x8点阵 -&gt; LedControl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SD%E5%8D%A1"><span class="toc-number">4.</span> <span class="toc-text">SD卡</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&text=esp8266项目接线记录"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&is_video=false&description=esp8266项目接线记录"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=esp8266项目接线记录&body=Check out this article: http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&title=esp8266项目接线记录"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&name=esp8266项目接线记录&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2025/08/03/esp8266%E9%A1%B9%E7%9B%AE%E6%8E%A5%E7%BA%BF%E8%AE%B0%E5%BD%95/&t=esp8266项目接线记录"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
